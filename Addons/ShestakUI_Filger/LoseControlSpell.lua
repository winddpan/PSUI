local spellIds = {
	----------------
	-- Death Knight
	----------------
	[108194] = "CC",			-- Asphyxiate
        [221562] = "CC",			-- Asphyxiate
	[47476]  = "Silence",		-- Strangulate
	[96294]  = "Root",			-- Chains of Ice (Chilblains)
	[45524]  = "Snare",			-- Chains of Ice
	[115018] = "Immune",		-- Desecrated Ground
	[218826] = "Immune",		-- Desecrated Ground
        [48707]  = "ImmuneSpell",	-- Anti-Magic Shell
	[48792]  = "Other",			-- Icebound Fortitude
	
	-- NEW
        [205630] = "CC",			-- 伊利丹之握
        [216007] = "CC",			-- 永恒放逐
        [200166] = "CC",			-- 恶魔变形
        [211881] = "CC",			-- 邪能爆发
        [207171] = "CC",			-- 凛冬将至
        [179057] = "CC",			-- 混乱新星
        [199804] = "CC",			-- 正中眉心
        [209790] = "CC",			-- 冰冻之箭
        [196958] = "CC",			-- 暗中出击
        [233582] = "Root",			-- 烈焰缠身
        [20066]  = "CC",			-- 忏悔
	[207685] = "CC",			-- 悲苦咒符
        [217832] = "CC",			-- 禁锢
        [221527] = "CC",			-- 禁锢
		[213405] = "Snare",			-- 投掷利刃减速
        [204490] = "Silence",		        -- 沉默咒符
        [202933] = "Silence",		        -- 蜘蛛钉刺
        [198909] = "CC",	                -- 赤精之歌
        [224729] = "CC",		        -- 爆裂射击
        [171017] = "CC",		        -- 流星打击
        [227508] = "CC",		        -- 群体忏悔
        [203337] = "CC",		        -- 冰冻陷阱
        [232055] = "CC",		        -- 怒雷破
        [209753] = "CC",			-- 旋风
        [202346] = "CC",			-- 醉上加醉
        [121253] = "Snare",			-- 醉酿投
        [211793] = "Snare",			-- 冷酷严冬
        [226943] = "CC",			-- 心灵炸弹
        [207167] = "CC",			-- 致盲冰雨
        [202274] = "CC",			-- 烈焰酒
        [200196] = "CC",			-- 圣言术：罚
        [200200] = "CC",			-- 圣言术：罚
        [207165] = "CC",			-- 憎恶之力
        [205290] = "CC",			-- 灰烬觉醒
        [205273] = "Snare",			-- 灰烬觉醒
        [183218] = "Snare",			-- 妨害之手
        [155145] = "Silence",			-- 奥术洪流
        [202719] = "Silence",			-- 奥术洪流
        [230083] = "Silence",			-- 卡拉赞废灵
        [204399] = "CC",			-- 大地之怒
        [198088] = "CC",			-- 光耀碎片
        [227781] = "CC",			-- 光耀碎片
        [207498] = "Other",			-- 先祖护佑
        [196555] = "Immune",		        -- 虚空行走
        [209426] = "Other",			-- 黑暗
        [212800] = "Other",			-- 疾影
        [215429] = "CC",		        -- 雷霆打击
        [205238] = "CC",		        -- 火药桶
        [220079] = "CC",		        -- 静电新星
        [193597] = "CC",		        -- 静电新星
        [203957] = "CC",		        -- 时空枷锁
        [222198] = "CC",		        -- 荆棘
        [233395] = "Root",			-- 严寒中心
        [202773] = "CC",			-- 石块投掷
        [203694] = "CC",			-- 岩石投掷
        [191530] = "CC",			-- 岩石投掷
        [170852] = "CC",			-- 嫉妒之吻
        [211810] = "CC",			-- 碎颅者
        [194279] = "Snare",			-- 铁蒺藜
        [190780] = "Snare",			-- 冰霜吐息
        [212638] = "Root",			-- 追踪者之网
        [206755] = "Snare",			-- 游侠之网
        [200108] = "Root",			-- 游侠之网
        [190927] = "Root",			-- 鱼叉猛刺
        [194401] = "Root",			-- 腐烂根须
        [61385]  = "Root",			-- 捕熊陷阱
        [160067] = "Snare",			-- 蛛网喷射
        [228215] = "CC",			-- 扬尘漫天
        [200851] = "ImmuneSpell",	        -- 沉睡者之怒
        [213691] = "CC",		        -- 驱散射击
        [202244] = "CC",		        -- 蛮力冲锋
        [197214] = "CC",		        -- 裂地术
        [198813] = "Snare",			-- 复仇回避
        [222897] = "CC",		        -- 暴风之锤
        [203343] = "Other",		        -- 烟雾弹
        [204246] = "CC",		        -- 折磨恐惧
        [199063] = "Root",		        -- 纠缠之根
        [200273] = "Silence",			-- 懦弱
        [193585] = "CC",		        -- 束缚
        [195944] = "CC",		        -- 冲天怒火
        [193069] = "CC",		        -- 梦魇
        [212565] = "CC",		        -- 好奇凝视
        [193969] = "Root",		        -- 锐刺
        [209027] = "CC",		        -- 压制打击
        [213233] = "CC",		        -- 不速之客
        [217342] = "Root",		        -- 邪恶缠网
        [215552] = "CC",		        -- 苍白魅力
        [195129] = "CC",		        -- 雷霆践踏
        [197144] = "Root",		        -- 钩网
        [196515] = "Root",		        -- 魔法禁锢
        [192708] = "CC",		        -- 奥术炸弹
        [218012] = "CC",		        -- 奥能脉冲
        [183020] = "Root",			-- 邪能囚禁
        [195561] = "CC",		        -- 盲目啄击
        [222417] = "CC",		        -- 粉碎巨石
        [214002] = "CC",		        -- 渡鸦的俯冲
        [199168] = "CC",		        -- 好痒！
        [201142] = "Snare",			-- 体有余寒
        [195645] = "Snare",			-- 摔绊
        [182832] = "CC",		        -- 石化
        [198405] = "CC",		        -- 刺骨尖叫
        [194140] = "CC",		        -- 岩石凝视
        [227981] = "CC",		        -- 上勾拳
        [227977] = "CC",		        -- 炫目灯光
        [228239] = "CC",		        -- 恐惧嚎叫
        [229705] = "Root",		        -- 蛛网
        [188818] = "Root",		        -- 暗影镣铐
        [200329] = "CC",		        -- 压制性恐惧
        [170995] = "Snare",			-- 残废术
        [219397] = "CC",		        -- 雄鹰天降
        [111673] = "CC",		        -- 控制亡灵
        [199097] = "CC",		        -- 催眠之云
        [197974] = "CC",		        -- 碎骨攻击
        [157997] = "Root",		        -- 寒冰新星
        [205708] = "Snare",			-- 冰冻
        [228600] = "Root",		        -- 冰川尖刺
        [198121] = "Root",		        -- 冰霜撕咬
        [189157] = "CC",		        -- 死亡嚎叫
        [200261] = "CC",		        -- 碎骨打击
        [199042] = "Root",		        -- 雷霆打击
        [202658] = "CC",		        -- 抽取
        [213491] = "CC",		        -- 恶魔践踏
        [216881] = "CC",		        -- 恐惧面容
        [223093] = "CC",		        -- 裹体之网
        [204437] = "CC",		        -- 闪电磁锁
        [196942] = "CC",		        -- 妖术
        [210873] = "CC",		        -- 妖术
        [211004] = "CC",		        -- 妖术
        [211010] = "CC",		        -- 妖术
        [211015] = "CC",		        -- 妖术
        [202318] = "CC",		        -- 妖术疲惫
        [204042] = "CC",		        -- 湮灭
        [198144] = "ImmuneSpell",		-- 寒冰形态
        [200631] = "CC",		        -- 搓志尖叫
        [232633] = "Silence",			-- 奥术洪流
        [222783] = "Silence",			-- 奥术洪流
        [225249] = "CC",		        -- 毁灭践踏
        [191743] = "Silence",			-- 震耳尖啸
        [207979] = "CC",		        -- 震荡波
        [206580] = "CC",		        -- 共鸣挥砍
        [209404] = "Silence",			-- 封印魔法
        [205097] = "CC",		        -- 邪能致盲
        [223914] = "CC",		        -- 破胆咆哮
        [205341] = "CC",		        -- 渗漏之雾
        [203110] = "CC",		        -- 嗜睡梦魇
        [210315] = "Root",		        -- 梦魇荆棘
        [219256] = "CC",		        -- 昂贵的扰乱
        [199085] = "CC",		        -- 战路
        [198551] = "CC",		        -- 破碎
        [219108] = "Silence",			-- 被遗忘者的哭号
        [227917] = "CC",		        -- 赛诗大会
        [217824] = "Silence",			-- 美德之盾
        [194500] = "CC",		        -- 毁灭践踏
        [210749] = "CC",		        -- 静电风暴
        [196591] = "CC",		        -- 死亡凝视
        [216044] = "CC",		        -- 受折磨者的哭号
        [53148]  = "Root",		        -- 冲锋
        [201158] = "Root",		        -- 焦油
        [162480] = "Root",		        -- 精钢陷阱
        [198304] = "Snare",			-- 拦截
        [236027] = "Snare",			-- 冲锋
        [228837] = "CC",		        -- 低吼
        [198758] = "Root",		        -- 拦截
        [67890]  = "CC",		        -- 工程炸弹
        [220128] = "Root",		        -- 冰霜新星
        [229926] = "CC",		        -- 绝望之路
        [229108] = "CC",		        -- 冲锋
        [229152] = "Root",		        -- 坐下
        [22915]  = "CC",		        -- 强化震荡射击
        [133362] = "CC",		        -- 梦幻变形术
        [133308] = "Root",		        -- 投网
        [134795] = "CC",		        -- 迷惘尖啸
        [129888] = "Silence",			-- 日光术
        [135621] = "CC",		        -- 静电充能
        [206762] = "CC",		        -- 恐惧尖叫
        [204483] = "CC",		        -- 聚焦冲击
        [219293] = "CC",		        -- 恐惧咆哮

                ----------------
		-- Death Knight Ghoul
		----------------

		[91800]  = "CC",			-- Gnaw
		[91797]  = "CC",			-- Monstrous Blow (Dark Transformation)
                [196907] = "CC",			-- Cyclone
		[91807]  = "Root",			-- Shambling Rush (Dark Transformation)
	
	----------------
	-- Druid
	----------------

	[33786]  = "CC",			-- Cyclone
	[99]     = "CC",			-- Incapacitating Roar
	[163505] = "CC",       	 	-- Rake
	[22570]  = "CC",			-- Maim
	[5211]   = "CC",			-- Mighty Bash
	[81261]  = "Silence",		-- Solar Beam
	[339]    = "Root",			-- Entangling Roots
	[45334]  = "Root",			-- Immobilized (Wild Charge - Bear)
	[102359] = "Root",			-- Mass Entanglement
	[50259]  = "Snare",			-- Dazed (Wild Charge - Cat)
	[58180]  = "Snare",			-- Infected Wounds
	[61391]  = "Snare",			-- Typhoon
	[127797] = "Snare",			-- Ursol's Vortex

	----------------
	-- Hunter
	----------------

	[117526] = "CC",			-- Binding Shot
	[3355]   = "CC",			-- Freezing Trap
	[13809]  = "Snare",			-- Ice Trap 1
	[19386]  = "CC",			-- Wyvern Sting
	[128405] = "Root",			-- Narrow Escape
	[5116]   = "Snare",			-- Concussive Shot
	[13810]  = "Snare",			-- Ice Trap 2
	[19263]  = "Immune",		-- Deterrence
	[186265]  = "Immune",		-- Deterrence

	----------------
	-- Hunter Pets
	----------------
		[24394]  = "CC",		-- Intimidation
		[50433]  = "Snare",		-- Ankle Crack (Crocolisk)
		[54644]  = "Snare",		-- Frost Breath (Chimaera)
		[54216]  = "Other",		-- Master's Call (root and snare immune only)

	----------------
	-- Mage
	----------------

	[31661]  = "CC",			-- Dragon's Breath
	[118]    = "CC",			-- Polymorph
	[61305]  = "CC",			-- Polymorph: Black Cat
	[28272]  = "CC",			-- Polymorph: Pig
	[61721]  = "CC",			-- Polymorph: Rabbit
	[61780]  = "CC",			-- Polymorph: Turkey
        [126819] = "CC",			-- Polymorph: Turkey
        [161353] = "CC",			-- Polymorph: Turkey
        [161354] = "CC",			-- Polymorph: Turkey
        [161355] = "CC",			-- Polymorph: Turkey
        [161372] = "CC",			-- Polymorph: Turkey
        [197105] = "CC",			-- Polymorph: Turkey
	[28271]  = "CC",			-- Polymorph: Turtle
	[82691]  = "CC",			-- Ring of Frost
	[140376] = "CC",			-- Ring of Frost
	[122]    = "Root",			-- Frost Nova
	[120]    = "Snare",			-- Cone of Cold
	[116]    = "Snare",			-- Frostbolt
	[44614]  = "Snare",			-- Frostfire Bolt
	[31589]  = "Snare",			-- Slow
	[45438]  = "Immune",		-- Ice Block
	[66309]  = "CC",			-- Ice Nova
	[110959] = "Other",			-- Greater Invisibility

		----------------
		-- Mage Water Elemental
		----------------
		[33395]  = "Root",		-- Freeze


	----------------
	-- Monk
	----------------

	[120086] = "CC",			-- Fists of Fury
	[119381] = "CC",			-- Leg Sweep
	[115078] = "CC",			-- Paralysis
	[116706] = "Root",			-- Disable
	[116095] = "Snare",			-- Disable
	[123586] = "Snare",			-- Flying Serpent Kick


	----------------
	-- Paladin
	----------------

	[105421] = "CC",			-- Blinding Light
	[853]    = "CC",			-- Hammer of Justice
	[20066]  = "CC",			-- Repentance
	[31935]  = "Silence",		-- Avenger's Shield
	[642]    = "Immune",		-- Divine Shield
	[31821]  = "Other",			-- Aura Mastery
	[1022]   = "Other",			-- Hand of Protection
          

	----------------
	-- Priest
	----------------

	[605]    = "CC",			-- Dominate Mind
	[88625]  = "CC",			-- Holy Word: Chastise
	[64044]  = "CC",			-- Psychic Horror
	[8122]   = "CC",			-- Psychic Scream
	[9484]   = "CC",			-- Shackle Undead
	[87204]  = "CC",			-- Sin and Punishment
	[15487]  = "Silence",		-- Silence
	[114404] = "Root",			-- Void Tendril's Grasp
	[15407]  = "Snare",			-- Mind Flay
	[47585]  = "ImmuneSpell",		-- Dispersion
	[114239] = "ImmuneSpell",	-- Phantasm
	[586] 	 = "Other",			-- Fade (Aura mastery when glyphed, dunno which id is right)

	----------------
	-- Rogue
	----------------

	[2094]   = "CC",			-- Blind
	[1833]   = "CC",			-- Cheap Shot
	[1776]   = "CC",			-- Gouge
	[408]    = "CC",			-- Kidney Shot
	[6770]   = "CC",			-- Sap
	[1330]   = "Silence",		-- Garrote - Silence
	[3409]   = "Snare",			-- Crippling Poison
	[26679]  = "Snare",			-- Deadly Throw
	[31224]  = "ImmuneSpell",	-- Cloak of Shadows
	[45182]  = "Other",			-- Cheating Death
	[5277]   = "Other",			-- Evasion
	[76577]  = "Other",			-- Smoke Bomb
	[88611]  = "Other",			-- Smoke Bomb
        [212182] = "Other",			-- Smoke Bomb
        [212183] = "Other",			-- Smoke Bomb

	----------------
	-- Shaman
	----------------

	[77505]  = "CC",			-- Earthquake
	[51514]  = "CC",			-- Hex
	[118905] = "CC",			-- Static Charge (Capacitor Totem)
	[64695]  = "Root",			-- Earthgrab (Earthgrab Totem)
	[3600]   = "Snare",			-- Earthbind (Earthbind Totem)
	[116947] = "Snare",			-- Earthbind (Earthgrab Totem)
	[77478]  = "Snare",			-- Earthquake (Glyph of Unstable Earth)
	[51490]  = "Snare",			-- Thunderstorm
	[8178]   = "ImmuneSpell",	-- Grounding Totem Effect (Grounding Totem)
	
		----------------
		-- Shaman Primal Earth Elemental
		----------------
		[118345] = "CC",		-- Pulverize

	----------------
	-- Warlock
	----------------

	[710]    = "CC",			-- Banish
	[5782]   = "CC",			-- Fear
	[118699] = "CC",			-- Fear
	[130616] = "CC",			-- Fear (Glyph of Fear)
	[5484]   = "CC",			-- Howl of Terror
	[22703]  = "CC",			-- Infernal Awakening
	[6789]   = "CC",			-- Mortal Coil
	[30283]  = "CC",			-- Shadowfury
	[31117]  = "Silence",		-- Unstable Affliction
	[104773] = "Other",			-- Unending Resolve

		----------------
		-- Warlock Pets
		----------------
		[89766]  = "CC",		-- Axe Toss (Felguard/Wrathguard)
		[115268] = "CC",		-- Mesmerize (Shivarra)
		[6358]   = "CC",		-- Seduction (Succubus)


	----------------
	-- Warrior
	----------------
	[5246]   = "CC",			-- Intimidating Shout (aoe)
	[132168] = "CC",			-- Shockwave
	[107570] = "CC",			-- Storm Bolt
	[132169] = "CC",			-- Storm Bolt
	[105771] = "Root",			-- Warbringer
	[1715]   = "Snare",			-- Hamstring
	[12323]  = "Snare",			-- Piercing Howl
	[46924]  = "Immune",		-- Bladestorm
        [227847] = "Immune",		-- Bladestorm
	[23920]  = "ImmuneSpell",	-- Spell Reflection
	[18499]  = "Other",			-- Berserker Rage

	----------------
	-- Other
	----------------

	[30217]  = "CC",		-- Adamantite Grenade
	[67769]  = "CC",		-- Cobalt Frag Bomb
	[30216]  = "CC",		-- Fel Iron Bomb
	[107079] = "CC",		-- Quaking Palm
	[13327]  = "CC",		-- Reckless Charge
	[20549]  = "CC",		-- War Stomp
        [47788]  = "Other",	        -- 守护之魂
        [218826] = "Other",	        -- 战斗考验
        [116888] = "Other",	        -- 炼狱
        [198111] = "Other",		-- 时光护盾
        [196555] = "Immune",		-- 虚空
        [25046]  = "Silence",		-- Arcane Torrent (Energy)
	[28730]  = "Silence",		-- Arcane Torrent (Mana)
	[50613]  = "Silence",		-- Arcane Torrent (Runic Power)
	[69179]  = "Silence",		-- Arcane Torrent (Rage)
	[80483]  = "Silence",		-- Arcane Torrent (Focus)
	[129597] = "Silence",		-- Arcane Torrent (Chi)
	[39965]  = "Root",		-- Frost Grenade
	[55536]  = "Root",		-- Frostweave Net
	[13099]  = "Root",		-- Net-o-Matic
	[1604]   = "Snare",		-- Dazed
	-- PvE
	--[123456] = "PvE",		-- This is just an example, not a real spell
}

local orderedSpellIds = {}
local orders = {"CC", "Silence", "Root", "Snare", "Immune", "ImmuneSpell", "Other"}
for oi,ov in pairs(orders) do
    for k,v in pairs(spellIds) do
		if v == ov then
			local spell = {spellID = k, spellType = v}
			table.insert(orderedSpellIds, spell)
			spellIds[k] = nil
		end
	end
end

local focus_position = {"BOTTOMLEFT", "oUF_SimpleFocus", "TOPLEFT", -2, 2}	
local target_position = {"BOTTOMLEFT", "oUF_SimpleTarget", "TOPLEFT", -2, 100}
local target_buff_position = {"TOPLEFT", UIParent, "CENTER", 200, -4}

local targetCC = {
	Name = "LoseControl_Target",
	Direction = "RIGHT", Interval = 0,
	Mode = "ICON", IconSize = 44,
	Position = {unpack(target_position)},
}
local focusCC =  {
	Name = "LoseControl_Focus",
	Direction = "RIGHT", Interval = 0,
	Mode = "ICON", IconSize = 40,
	Position = {unpack(focus_position)},
}
local targetBuff =  {
	Name = "LoseControl_Buff",
	Direction = "RIGHT", Interval = 2,
	Mode = "ICON", IconSize = 42,
	Position = {unpack(target_buff_position)},
}

for i,spell in pairs(orderedSpellIds) do
	local ID = spell.spellID
	local Type = spell.spellType
	if Type == "CC" or Type == "Root" or Type == "Silence" or Type == "Snare" then
		local targetV = {spellID =  ID, unitID = "target", caster = "all", filter = "DEBUFF"}
		local focusV = {spellID =  ID, unitID = "focus", caster = "all", filter = "DEBUFF"}
		table.insert(targetCC, targetV)
		table.insert(focusCC, focusV)
	else
		local buffV = {spellID =  ID, unitID = "target", caster = "all", filter = "BUFF"}
		table.insert(targetBuff, buffV)
	end
end

local AllSpells = Filger_Spells["ALL"] or {}
table.insert(AllSpells, targetCC)
table.insert(AllSpells, focusCC)
table.insert(AllSpells, targetBuff)
